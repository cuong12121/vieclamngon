function backToTop(){$("#back-to-top").on('click',function(){$("html, body").animate({scrollTop:0,},1000);});};function toggleNav(){let buttonNav=$('.employer-navbar-2-1 .category-nav')
let menuNav=$('.employer-navbar-2-1 .main-wrap')
buttonNav.on('click',function(){$(this).toggleClass('active')
menuNav.slideToggle()})}
function validateNumber(value){var strCheck=/([0-9]+)/g;var reg=new RegExp(strCheck);var strTemp=value.replace(reg,'');return(strTemp=='')?true:false;}
function allowInputNumber(inpID){$("#"+inpID).on("keypress keyup blur",function(event){$(this).val($(this).val().replace(/[^\d].+/,""));if((event.which<48||event.which>57)){event.preventDefault();}});}
function isValidEmail(emailAddress){var pattern=new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i);return pattern.test(emailAddress);}
function loadLocations(country_id,location_id){if(country_id!=1){$("#lable_location").hide();$("#location_id").hide();}else{$.ajax({url:domainroot+'/employersnews/index/loadlocation-new',type:'POST',dataType:'json',data:'country_id='+country_id+"&location_id="+location_id,}).done(function(response){$("#location_id").html('');$("#lable_location").show();$("#location_id").show();var str_loction='';$.each(response,function(i,item){str_loction+='<option value="'+item.LOCATION_ID+'">'+item.LOCATION_NAME+'</option>'});$("#location_id").html(str_loction);});}}
function show_noti(type,content,title,more_link,icon,multi){if(type==1){var class_type='success-modal';if(typeof(content)==="undefined")content=language.popup_msg_success;}else{var class_type='error-modal';if(typeof(content)==="undefined")content=language.popup_msg_error;}
if(typeof(icon)!=="undefined"&&icon!=""){var txt_icon=icon;}else{if(type==1){var txt_icon='./img/icon-success.png';}else{var txt_icon='./img/icon-error.png';}}
if(typeof(more_link)==="undefined"){var more_link='';}
var txt_multi=0;if(typeof(multi)!=="undefined"){var txt_multi=1;}
if(txt_multi==0)
$.fancybox.close('all');var txt_button=language.popup_close_popup;if(typeof(txt_button)==="undefined")
txt_button="OK";if(typeof(title)==="undefined"){var title=language.message_common;}
var html_popup='<div class="jobs-posting-modal modal-noti-emp '+class_type+'" style="display: none"><div class="modal-head"><img src="'+txt_icon+'" alt="icon-modal"></div><div class="modal-body"><p class="title">'+title+'</p><p>'+content+'</p><div class="button"><a class="btn-gradient" href="javascript:void(0);" data-fancybox-close>'+txt_button+'</a></div></div></div>';$.fancybox.open(html_popup);}
function closeAllmodal(){$.fancybox.close('all');}
function checkSpecialCharTelephone(strInput){var re=/^([0-9\.\-\+\(\)\ ])+$/;if(strInput.search(re)==-1){return false;}else{return true;}}
function show_loading_page(){$("#page-loading").css('display','flex');}
function hide_loading_page(){$("#page-loading").css('display','none')}
function checkEmail(stringIn){var re=/^([A-Za-z0-9\_\-]+\.)*[A-Za-z0-9\_\-]+@[A-Za-z0-9\_\-]+(\.[A-Za-z0-9\_\-]+)+$/;var sEMail=stringIn;if((sEMail=="")||(sEMail.search(re)==-1)){return(false)}
return(true)};function refeshImgCaptcha(id){$.ajax({type:'POST',url:domain+'employers/imagecaptcha',success:function(data){$('#'+id).html(data)}});}
$.validator.addMethod('validatePassUnicodeStrong',function(value){var c=0;var strTemp=value.replace(/[0-9]/g,'');if(strTemp!=value){c++;value=strTemp;}
strTemp=value.replace(/[a-z]/g,'');if(strTemp!=value){c++;value=strTemp;}
strTemp=value.replace(/[A-Z]/g,'');if(strTemp!=value){c++;value=strTemp;}
strTemp=value.replace(/[\-\_\@\~\`\#\$\%\^\&\*\?\+\"\'\!\(\)\=\?\.]/g,'');if(strTemp!=value){c++;value=strTemp;}
if(c<2||value!='')return false;return true;},'');var emailIsVali=new Array();$.validator.addMethod('checkEmail',function(value){if(typeof emailIsVali[value]!='undefined')
return emailIsVali[value];$.ajax({cache:true,async:false,type:"POST",url:domain+"employers/emailexist",data:{email:value},success:function(data){if(data>0){result=false;}else{result=true;}}});emailIsVali[value]=result;return result;},'');$.validator.addMethod('checkcontactinfo',function(value){var value=$("#company_summary").val().replace(/<[^>]*>|\s/g,'').replace(/(&nbsp;)/g," ");value=$.trim(value);var re=/(@([a-zA-Z0-9]{1,8})\.[a-zA-Z]{2,})|([0-9+]{8,11})/;if(re.test(value))return false;return true;},language.emp_register_contact_info);$.validator.addMethod('checktaxid',function(value){if(value){var re=/^([0-9-]){10,14}$/;if(re.test(value))return true;else return false;}else{return true;}},language.emp_register_taxid_error);$.validator.addMethod('checkSpecialCharTelephone',function(value){return checkSpecialCharTelephone(value);},language.Emp_Please_enter_the_correct_Mobile);function checkEmailExist(){var user_email=$("#email").val();if(user_email==""){$("#error_email").html(language.emp_register_empty).show();$("#error_email_succes").html('').hide();$("#control_frm_email .checked").hide();}else if(!checkEmail(user_email)){$("#error_email").html(language.emp_register_incorrect).show();$("#error_email_succes").html('').hide();$("#control_frm_email .checked").hide();}else{$.ajax({type:"POST",url:domain+"employers/emailexist",data:{email:user_email},success:function(data){if(data>0){$("#error_email").html(language.emp_register_email_exist).removeClass('success');$("#control_frm_email .checked").hide();}else{$("#error_email").html(language.emp_register_email_not_exist).addClass('success');$("#control_frm_email .checked").show();}}});}}
function getItemsChecked(){var x=document.getElementsByName("listresumes[]");var p="";for(var i=0;i<x.length;i++){if(x[i].checked){p+=x[i].value+",";}}
return p.substring(0,p.length-1);}
function getItemsCheckedFV(name){var x=document.getElementsByName(name);var p="";for(var i=0;i<x.length;i++){if(x[i].checked){p+=x[i].value+",";}}
return p.substring(0,p.length-1);}
function unpostingJob(job_id,ispublic){$.confirm({title:language.message_common,titleClass:'text-center',content:'<div class="text-center">'+language.emp_hrcentral_unposting_this_online_job+'</div>',theme:'bootstrap',animation:'scale',columnClass:'small',type:'blue',buttons:{cancel:{text:language.employers_confirm_btn_cancle,},confirm:{text:language.employers_confirm_btn_agree,btnClass:'btn-blue',action:function(){$.ajax({type:"POST",url:domain+'employers/hrcentral/posting/unpostingjob',data:{'job_id':job_id,'ispublic':ispublic},success:function(rs){if(rs==1){$.confirm({title:false,content:'<div class="text-center">'+language.emp_hrcentral_unposting_success+'</div>',theme:'bootstrap',columnClass:'small',buttons:{ok:function(){window.location=domain+'employers/hrcentral/unposting';}}});}else if(rs==0){$.confirm({title:false,content:'<div class="text-center">'+language.emp_hrcentral_unposting_unsuccess+'</div>',theme:'bootstrap',columnClass:'small',buttons:{ok:function(){window.location=domain+'employers/hrcentral/posting';}}});}else{show_noti(2,language.emp_hrcentral_permission_unposting,language.message_common);}}});}}}});}
function postingJob(job_id,ispublic){$.confirm({title:language.message_common,titleClass:'text-center',content:'<div class="text-center">'+language.emp_hrcentral_posting_this_online_job+'</div>',theme:'bootstrap',animation:'scale',columnClass:'small',containerFluid:true,type:'blue',buttons:{cancel:{text:language.employers_confirm_btn_cancle,},confirm:{text:language.employers_confirm_btn_agree,btnClass:'btn-blue',action:function(){$.ajax({type:"POST",url:domain+'employers/hrcentral/posting/unpostingjob',data:{'job_id':job_id,'ispublic':ispublic},success:function(rs){if(rs==1){$.confirm({title:false,content:'<div class="text-center">'+language.emp_hrcentral_posting_success+'</div>',theme:'bootstrap',columnClass:'small',buttons:{ok:function(){window.location=domain+'employers/hrcentral/posting';}}});}else if(rs==0){$.confirm({title:false,content:'<div class="text-center">'+language.emp_hrcentral_posting_unsuccess+'</div>',theme:'bootstrap',columnClass:'small',buttons:{ok:function(){window.location=domain+'employers/hrcentral/unposting';}}});}else{show_noti(2,language.emp_hrcentral_permission_unposting,language.message_common);}}});}}}});}
function checkInputNormalText(strCheck){if(strCheck==""||isBlackListTag(strCheck)){return false}return true}
function isBlackListTag(strCheck){var arrList=new Array("<",">","=","[","]","{","}","^","~","$","%");for(var i=0;i<arrList.length;i++){if(strCheck.indexOf(arrList[i])>=0){return true}}return false}
function replaceAll(strSource,strIn,strOut){return strSource.replace(new RegExp(strIn,'g'),strOut);}
function validateSearch(){var keyword=$('#keyword').val().replace(/\//g,"");var fromdate=$('#date_from').val();var todate=$('#date_to').val();var datetype=$('#date_type').val();var limit=$('#limit').val();var url='';var arrF=fromdate.split('/');var arrT=todate.split('/');if(fromdate==''&&todate!=''){show_noti(2,language.emp_hrcentral_please_select_fromdate,language.message_common);return false;}else if(fromdate!=''&&todate==''){show_noti(2,language.emp_hrcentral_please_select_todate,language.message_common);return false;}else if(new Date(arrF[2],arrF[1],arrF[0]).getTime()>new Date(arrT[2],arrT[1],arrT[0]).getTime()){show_noti(2,language.emp_hrcentral_validate_date,language.message_common);return false;}else if(fromdate==''&&todate==''&&keyword==''){show_noti(2,language.emp_hrcentral_please_select_1_dk,language.message_common);return false;}
var url='employers/hrcentral/'+action+'/user_id/'+user_id+'/sort/desc/type/3';if(keyword){keyword=keyword.replace(/["'"]/g,"");if(checkInputNormalText(keyword)==false){show_noti(2,language.emp_hrcentral_validate_keyword,language.message_common);return false}}
url+='/keyword/'+keyword+'/type_s/0/limit/'+limit;if(fromdate&&todate)
url+='/datetype/'+datetype+'/fromdate/'+replaceAll(fromdate,'/',"-")+'/todate/'+replaceAll(todate,'/',"-");window.location=domain+url;return false;}
function checkOrder(job_id){$.ajax({type:"POST",url:domain+'employers/hrcentral/checkorder',dataType:'JSON',success:function(rs){if(rs==1)
window.location.href=domain+"employers/hrcentral/order/"+job_id;else if(rs==2)
show_noti(2,language.emp_hrcentral_not_permission_postjob,language.message_common);else
$.fancybox.open($(".jobs-posting-1-modal"));}});}
function requestService(job_id){$.ajax({type:"POST",url:domain+'employers/hrcentral/checksubservice?newlayout=1',dataType:'JSON',success:function(rs){if(rs==1)
window.location.href=domain+"employers/hrcentral/suborder/"+job_id;else
show_noti(2,language.emp_hrcentral_not_register_subservice,language.message_common);}});}
function showAutoReply(job_id){closeAllmodal();$.fancybox.open({'src':domain+'employers/postjobs/autoreply?job_id='+job_id+'&newlayout=1','type':'ajax'});}
function addSmartField(id,str){$("#"+id).insertAtCaret(str);}
function insertAutoReply(){if($("#frmReply").validate({rules:{reply_title:{required:true,maxlength:70},reply_content:{required:true,minlength:30,maxlength:3000}},errorPlacement:function(error,element){element.closest('div').find('span.error').html(error.html())},success:function(element){element.closest('div').find('span.error').html('');}}).form()==false)return false;$.ajax({type:"POST",url:domain+'employers/postjobs/saveautoreply',data:$('#frmReply').serialize(),dataType:'json',success:function(obj){$('#div_title').html('<strong>'+obj.AUTOREPLY_TITLE+'</strong>');$('#div_content').html(nl2br(obj.AUTOREPLY_CONTENT,false));$("#div_automatic_reply_mail").show('slow');$("#div_no_automatic_reply_mail").hide();$.fancybox.close('all');}});}
jQuery.fn.extend({insertAtCaret:function(valueToInsertAtCaret){return this.each(function(i){if(document.selection){this.focus();selection=document.selection.createRange();selection.text=valueToInsertAtCaret;this.focus();}else if(this.selectionStart||this.selectionStart=="0"){var startPosition=this.selectionStart;var endPosition=this.selectionEnd;var scrollTop=this.scrollTop;this.value=this.value.substring(0,startPosition)+valueToInsertAtCaret+this.value.substring(endPosition,this.value.length);this.focus();this.selectionStart=startPosition+valueToInsertAtCaret.length;this.selectionEnd=startPosition+valueToInsertAtCaret.length;this.scrollTop=scrollTop;}else{this.value+=valueToInsertAtCaret;this.focus();}})}});function nl2br(str,is_xhtml){var breakTag=(is_xhtml||typeof is_xhtml==='undefined')?'':'<br>';return(str+'').replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,'$1'+breakTag+'$2');}
function activeTab(tab_id){let tabDetail=$('.jobs-posting-detail .tabslet-tab-detail li');let tabContent=$('.jobs-posting-detail .tabslet-content-detail');tabDetail.removeClass('active');tabContent.removeClass('active');$('.jobs-posting-detail .tabslet-tab-detail li[data-tab-detail='+tab_id+']').addClass('active');$('.jobs-posting-detail .tabslet-content-detail[data-content-detail='+tab_id+']').addClass('active');}
function fixWidthChosen(){$(".chosen-select-max-three").each(function(){var ow_defaul=wit_defaul=it_defaul=0;var id_default='#'+$(this).attr('id')+'_chosen';var w_default=$(id_default).width()-40;$(id_default+' li.search-choice').each(function(){$(this).find("span").removeAttr("style");ow_defaul+=$(this).innerWidth();it_defaul++;});if(w_default<ow_defaul){wit_defaul=Math.round(w_default/it_defaul)-35;$(id_default+' li.search-choice span').css('width',wit_defaul+'px');}});$(".chosen-select").each(function(){var ow_defaul=wit_defaul=it_defaul=0;var id_default='#'+$(this).attr('id')+'_chosen';var w_default=$(id_default).width()-35;$(id_default+' li.search-choice').each(function(){$(this).find("span").removeAttr("style");ow_defaul+=$(this).width()+30;it_defaul++;});if(w_default<ow_defaul){wit_defaul=Math.round(w_default/it_defaul)-35;$(id_default+' li.search-choice span').css('width',wit_defaul+'px');}});if($(window).width()<1025){$('.search-choice-close').on('touchend',function(){$(this).trigger('click');});$('.search-choice-close').on('tap',function(){$(this).trigger('click');});}}
function reloadChosen(){initChosen();}
function initChosen(){if($.isFunction($.fn.chosen)){if($(window).width()>1024){$(".chosen-select-max-three").chosen({max_selected_options:3}).change(function(){fixWidthChosen();});}else{$(".chosen-select-max-three").chosen({max_selected_options:1}).change(function(){fixWidthChosen();});}
$(".chosen-select-max-one").chosen({max_selected_options:1}).change(function(){fixWidthChosen();});$(".chosen-select").chosen().change(function(){fixWidthChosen();if($(this).val().length>0)
$(this).closest('div').find('span.form-error').html('');});setTimeout(function(){fixWidthChosen();},1000);}}
function loadWorkLocation(object){$(object).prop('disabled',true);$(object).closest('div.item_post_job_location').find('select.work_location').val('').prop('disabled',true).trigger("chosen:updated");setUpSelectLocation();$.ajax({type:"POST",url:PATH_KIEMVIEC+'employers/hrcentral/accounts/getworklocation',data:'newlayout=1&location_id='+$(object).val(),success:function(html){$(object).closest('div.row').next('div.row').html(html);$(object).prop('disabled',false);if($(object).val()>0)
$(object).closest('div').find('span.form-error').html('');$("#post_job_location .item_post_job_location:first-child .add-location-more").show();$("#post_job_location .item_post_job_location:first-child .delete-location-more").hide();reloadChosen();}});}
function reLoadWorkLocation(object){$(object).prop('disabled',true);var obj_address=$(object).closest('div.item_post_job_location').find('select.work_location');obj_address.val('').prop('disabled',true).trigger("chosen:updated");setUpSelectLocation();var arr_workloc=[];$(object).closest('div.item_post_job_location').find('select.select_worklocation').children('option').each(function(){if($(this).is(':selected')&&$(this).val()!=''){arr_workloc.push($(this).val());}});var str_workloc=arr_workloc.join(",");$.ajax({type:"POST",url:PATH_KIEMVIEC+'employers/hrcentral/accounts/getworklocation',data:'newlayout=1&location_id='+$(object).val(),success:function(html){obj_address.html(html).prop('disabled',false).trigger("chosen:updated");$(object).prop('disabled',false);}});}
function addWorkLocation(){$.fancybox.open({'src':PATH_KIEMVIEC+"employers/hrcentral/accounts/inupworklocation?showpopup=1&newLayout=1",'type':'ajax'});}
function reLoadAllWorkLocation(){var sel_location=$('select[name="LOCATION_ID[]"]');sel_location.each(function(index,obj){reLoadWorkLocation(obj);});setTimeout(function(){fixWidthChosen();},600);}
function addLocation(){var obj_box_location=$(".box_location");if(obj_box_location.length>=3){alert(language.Emp_limit_3_location);return false;}
var html_box_location=obj_box_location.first().clone();$(".box_locations").append(html_box_location);setUpSelectLocation();var botton_add=$('.button_add');botton_add.each(function(index,obj){if(index==0){$(this).show();}else{$(this).hide();}});var botton_del=$('.button_del');botton_del.each(function(index,obj){if(index==0){$(this).hide();}else{$(this).show();}});$('select[name="LOCATION_ID[]"]').last().prop('selectedIndex',0).trigger('change');$('.clearall').last().find('label').hide();fixWidthChosen();}
function delLocation(obj){$(obj).parent().parent().parent().remove();setUpSelectLocation();}
function setUpSelectLocation(){var sel_location=$('select[name="LOCATION_ID[]"]');sel_location.each(function(index,obj){$(this).children('optgroup').each(function(){$(this).children('option').each(function(){if($(this).val()!=''){$(this).removeAttr('disabled');}});});});sel_location.each(function(index,obj){sel_location.each(function(index1,obj1){if(index!=index1){$('optgroup option[value="'+$(obj).val()+'"]',this).attr('disabled','disabled');}});});}
function loadDistrictProfile(location_id,sl_district_id){var str='';str+='<option value="">'+language.worklocation_select_district+'</option>';for(k in districts){if(location_id==districts[k][1]){str+='<option value="'+districts[k][0]+'">'+districts[k][2]+'</option>';}}
$('#sldistrict option').remove();$('#sldistrict').append(str);$("#sldistrict option[value='"+sl_district_id+"']").attr('selected','selected');setUpSelectLocation();}
function setUpSelectLocation(){var sel_location=$('select[name="LOCATION_ID[]"]');sel_location.each(function(index,obj){$(this).children('optgroup').each(function(){$(this).children('option').each(function(){if($(this).val()!=''){$(this).removeAttr('disabled');}});});});sel_location.each(function(index,obj){sel_location.each(function(index1,obj1){if(index!=index1){$('optgroup option[value="'+$(obj).val()+'"]',this).attr('disabled','disabled');}});});}
function change_age(t){f=document.frmEditJob;t.value=t.value.replace(/^[0\D]/g,"");if(parseInt(t.value)>0)t.value=parseInt(t.value);if(t.value>0&&t.value>=100)t.value="";}
function chckage(){var from_age=$('#JOB_FROMAGE').val();var to_age=$('#JOB_TOAGE').val();if(from_age!=""&&to_age!=""){if(parseInt(to_age)<=parseInt(from_age)){$('#JOB_TOAGE').val("");show_noti(2,language.Emp_age_invalid,language.message_common);return false;}}}
function loadExperience(v){if(v==1)
$('#JOB_EXPERIENCE').show();else
$('#JOB_EXPERIENCE').hide();$('#JOB_FROMEXPERIENCE').val('');$('#JOB_TOEXPERIENCE').val('');}
function change_number(t){f=document.frmEditJob;t.value=t.value.replace(/^[0\D]/g,"");if(parseInt(t.value)>0)t.value=parseInt(t.value);if(t.value>0&&t.value>=100)t.value="";}
function chcknumber(){var from_exp=$('#JOB_FROMEXPERIENCE').val();var to_exp=$('#JOB_TOEXPERIENCE').val();if(from_exp!=""&&to_exp!=""){if(parseInt(to_exp)<=parseInt(from_exp)){$('#JOB_TOEXPERIENCE').val("");show_noti(2,language.Emp_exp_invalid,language.message_common);return false;}}}
function removeFormatWord(input){var stringStripper=/(\n|\r| class=(")?Mso[a-zA-Z]+(")?)/g;var output=input.replace(stringStripper,' ');var commentSripper=new RegExp('<!--(.*?)-->','g');var output=output.replace(commentSripper,'');var tagStripper=new RegExp('<(/)*(meta|link|span|\\?xml:|st1:|o:|font)(.*?)>','gi');output=output.replace(tagStripper,'');var badTags=['style','script','applet','embed','noframes','noscript'];for(var i=0;i<badTags.length;i++){tagStripper=new RegExp('<'+badTags[i]+'.*?'+badTags[i]+'(.*?)>','gi');output=output.replace(tagStripper,'');}
var badAttributes=['style','start'];for(var i=0;i<badAttributes.length;i++){var attributeStripper=new RegExp(' '+badAttributes[i]+'="(.*?)"','gi');output=output.replace(attributeStripper,'');}
return output;}
function loadTagKey(){var job_title=$.trim($('#job_title').val());if(job_title!=''){$.ajax({type:"POST",url:domain+'employers/postjobs/loadtagkey',dataType:'JSON',data:{'job_title':job_title},success:function(rs){if(rs){$.each(rs,function(key,val){if(val.arrKey){$('#list-tag').html('');var tagStripper=new RegExp('[0-9,\(|\)]','g');job_title=job_title.replace(tagStripper,'');$("#list-tag").append('<div class="tag-item"><p>'+job_title+'</p><a class="delete-tag" onclick="return removeWord(this)" href="javascript:void(0)"> <em class="material-icons">clear </em></a><input type="hidden" name="synonym[]" value="'+job_title+'" /></div>');$.each(val.arrKey,function(key1,val1){$("#list-tag").append('<div class="tag-item"><p>'+val1+'</p><a class="delete-tag" onclick="return removeWord(this)" href="javascript:void(0)"> <em class="material-icons">clear </em></a><input type="hidden" name="synonym[]" value="'+val1+'" /></div>');});}});}else{var tagStripper=new RegExp('[0-9,\(|\)]','g');job_title=job_title.replace(tagStripper,'');$("#list-tag").append('<div class="tag-item"><p>'+job_title+'</p><a class="delete-tag" onclick="return removeWord(this)" href="javascript:void(0)"> <em class="material-icons">clear </em></a><input type="hidden" name="synonym[]" value="'+job_title+'" /></div>');}}})}}
function addWord(){var arrJobTags=[];var str=$('#synonym').val();if($.trim(str)!=''){if(str.length>50){show_noti(2,language.emp_resume_tag_limit);$('#synonym').focus();return false;}
var found=false;var lw_str;if(arrJobTags.length<1){$('#list-tag input[type="hidden"]').each(function(){lw_str=$(this).val().toLowerCase();lw_str=$.trim(lw_str);if($.inArray(lw_str,arrJobTags)<0)arrJobTags.push(lw_str);});}
lw_str=str.toLowerCase();lw_str=$.trim(lw_str);if($.inArray(lw_str,arrJobTags)<0){arrJobTags.push(lw_str);$("#list-tag").append('<div class="tag-item"><p>'+str+'</p><a class="delete-tag" onclick="return removeWord(this)" href="javascript:void(0)"> <em class="material-icons">clear </em></a><input type="hidden" name="synonym[]" value="'+str+'" /></div>');}
$('#synonym').val('').focus();}
return false;}
function removeWord(obj){$(obj).parent().remove();return false;}
function pushWord(str){$('#synonym_sections').append('<span>'+str+'<input type="hidden" name="synonym[]" value="'+str+'"/> <a href="#"  onclick="return removeWord(this)">&nbsp;</a></span>');}
function limitLen(t,l){var mlength=t.getAttribute?parseInt(t.getAttribute("maxlength")):"";tmp=t.value;if(tmp.length>mlength){t.value=tmp.substr(0,mlength)}
l.value=mlength-tmp.length;}
function nonBlankValue(stringIn){var numn=stringIn.length;for(i=0;i<stringIn.length;i++){if(stringIn.charAt(i)==" ")
numn-=1;}
return(numn);}
function contain_invalid(str,invalidstr){for(i=0;i<invalidstr.length;i++)
if(str.indexOf(invalidstr.charAt(i))>=0)return false;return true;}
function checkSpecialCharEditContact(strInput){var re=/^([0-9\.\-\+\(\)\ ])+$/;if(strInput.search(re)==-1){return false;}else{return true;}}
function checkSpecialCharPostJob(strInput){var re=/^([A-Za-z0-9\&\_\-\/\\\ ])+$/;if(strInput.search(re)==-1){return false;}else{return true;}}
function checkSpecialChar(strInput){var re=/^([A-Za-z0-9\.\-\_\@\~\`\#\$\%\^\&\*\?\+\"\'\!\(\)\=\?])+$/;if(strInput.search(re)==-1){return false;}else{return true;}}
function strongPass(password){var strong=0;if(password.match(/([a-z])/))strong+=1;if(password.match(/([0-9])/))strong+=1;if(password.match(/([A-Z])/))strong+=1;if(password.match(/([.,-,_,@,~,`,#,$,%,^,&,*,?,+,",',!,(,),=,?])/))strong+=1;return strong>=2?true:false;}
function checkAlertSalary(){var salary_from_valid=$('#salary_from').val().replace(/[^0-9\s]/gi,'');var salary_to_valid=$('#salary_to').val().replace(/[^0-9\s]/gi,'');if(parseInt(salary_from_valid)>0&&parseInt(salary_to_valid)>0){if(Math.round(parseInt(salary_to_valid)/parseInt(salary_from_valid))>=7){show_noti(2,language.LANG_ERROR_RESUME_SALARY_ALERT_FROM_TO,language.message_common);return true;}}
return true;}
$(document).ready(function(){$.validator.addMethod('checkJobTitle',function(value){if(!nonBlankValue(value)||(contain_invalid(value,'@$=%^"')==false))
return false;return true;},language.Emp_postjobs_job_title_invalid);$.validator.addMethod('checkCharacterSpec',function(value){if(contain_invalid(value,'@$=%^"')==false)
return false;return true;},language.emp_postjob_Do_not_enter_special_characters);$.validator.addMethod('checkExperience',function(value){var exp_valid=$('#JOB_ISEXPERIENCE').val();if(exp_valid==1){var exp_from=$('#JOB_FROMEXPERIENCE').val();var exp_to=$('#JOB_TOEXPERIENCE').val();if(exp_from==''&&exp_to=='')return false;if(parseInt(exp_to)<parseInt(exp_from)&&parseInt(exp_to)>0)
return false;}
return true;},language.postjobs_please_enter_experience);$.validator.addMethod('checkvaliddate',function(value){strdate=$('#JOB_LASTDATE').val();if(strdate!=""){dtStr1=strdate;if(isDateddmmyyyy(dtStr1)){cur_time=new Date();cur_day=cur_time.getDate();cur_month=(cur_time.getMonth()+1);cur_year=cur_time.getYear();if(cur_year<2000)cur_year+=1900;startdate=cur_day+"/"+cur_month+"/"+cur_year
if(comparedate(startdate,dtStr1)==false){return false;}
return true;}else{return false}}
return false;},language.Emp_postjobs_Pleate_enter_expiring_date);$.validator.addMethod('checkSalary',function(value){$('#salary_from').val($('#salary_from').val().replace(/[^0-9\s]/gi,''));if($('#salary_from').val()==0)$('#salary_from').val('');$('#salary_to').val($('#salary_to').val().replace(/[^0-9\s]/gi,''));if($('#salary_to').val()==0)$('#salary_to').val('');var unit_valid=$('#job_salaryunit option:selected').val();if(unit_valid=='vnd'||unit_valid=='usd'){var salary_from_valid=$('#salary_from').val();var salary_to_valid=$('#salary_to').val();if(salary_from_valid==''&&salary_to_valid=='')return false;if(parseInt(salary_to_valid)<parseInt(salary_from_valid)&&parseInt(salary_to_valid)>0)
return false;if(isNaN(parseInt(salary_to_valid)))
salary_to_valid=0;if(isNaN(parseInt(salary_from_valid)))
salary_from_valid=0;var salary_max=parseInt(salary_to_valid)>parseInt(salary_from_valid)?salary_to_valid:salary_from_valid;var salary_min=parseInt(salary_from_valid)>0?salary_from_valid:salary_to_valid;if(unit_valid=='usd'&&parseInt(salary_max)>=100000)return false;if(unit_valid=='usd'&&parseInt(salary_min)<25)return false;if(unit_valid=='vnd'&&parseInt(salary_min)<500000)return false;if(unit_valid=='vnd'&&parseInt(salary_max)>=999000000)return false;}
return true;},language.LANG_ERROR_RESUME_SALARY_FROM_TO);$.validator.addMethod('checkSpecialCharPostJob',function(value){var re=/^([A-Za-z0-9\&\_\-\/\\\ ])+$/;if(value.search(re)==-1&&value.length>0)
return false;return true;},language.Emp_postjobs_Job_code_is_invalid);$.validator.addMethod('require-one-job-type',function(value){return $('.require-one-job-type:checked').length>0;},language.Emp_Please_select_the_job_type);var checkboxe_job=$('.require-one-job-type');var checkbox_name_job=$.map(checkboxe_job,function(e,i){return $(e).attr("name")}).join(" ");$(".require-one-job-type").on('click',function(e){if($(this).is(":checked"))
$("#last_jobtype").hide();else
$("#last_jobtype").show();});$.validator.addMethod('checkMaxInputDesEditor',function(value){CKEDITOR.instances.job_desc.updateElement();var value=$("#job_desc").val().replace(/<[^>]*>|\s/g,'').replace(/(&nbsp;)/g," ");value=removeFormatWord($.trim(value));if(value.length>10000)return false;return true;},language.Emp_postjobs_Job_desciption_more_character);$.validator.addMethod('checkMinimumInputDesEditor',function(value){CKEDITOR.instances.job_desc.updateElement();var value=$("#job_desc").val().replace(/<[^>]*>|\s/g,'').replace(/(&nbsp;)/g," ");value=$.trim(value);if(value.length<10)return false;var re=/(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/;if(re.test(value))return false;var re=/([0-9+]{8,11})/;if(re.test(value))return false;var re=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;if(re.test(value))return false;return true;},language.Emp_postjobs_Job_desciption_is_invalid);$.validator.addMethod('checkMaxInputRegEditor',function(value){CKEDITOR.instances.job_req.updateElement();var value=$("#job_req").val().replace(/<[^>]*>|\s/g,'').replace(/(&nbsp;)/g," ");value=removeFormatWord($.trim(value));if(value.length>10000)return false;return true;},language.Emp_postjobs_skill_requirement_more_character);$.validator.addMethod('checkMinimumInputRegEditor',function(value){CKEDITOR.instances.job_req.updateElement();var value=$("#job_req").val().replace(/<[^>]*>|\s/g,'').replace(/(&nbsp;)/g," ");value=$.trim(value);if(value.length<10)return false;var re=/(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/;if(re.test(value))return false;var re=/([0-9+]{8,11})/;if(re.test(value))return false;var re=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;if(re.test(value))return false;return true;},language.Emp_postjobs_skill_requirement_is_invalid);$.validator.addMethod("multiemail",function(value,element){if(this.optional(element))
return true;var emails=value.split(/[;]+/);valid=true;for(var i in emails){value=emails[i];valid=valid&&$.validator.methods.email.call(this,$.trim(value),element);}
return valid;},$.validator.messages.Emp_postjobs_Please_enter_Email1_valid);$.validator.addMethod('checkPhoneEmailUrlInput',function(value){value=$.trim(value);var re=/(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/;if(re.test(value))return false;var re=/([0-9+]{8,11})/;if(re.test(value))return false;var re=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;if(re.test(value))return false;return true;},language.Emp_postjobs_not_phone_email_url);$.validator.addMethod('checkWorkLocation',function(value){var arr_workloc=[];$('select.select_worklocation').each(function(){var arr_workloc_child=[];$(this).children('option').each(function(){if($(this).is(':selected')&&$(this).val()!=''){arr_workloc.push($(this).val());}});});var str_workloc=arr_workloc.join(",");if(str_workloc!="")
return true;else
return false;},language.Emp_postjobs_select_work_location);$.validator.addMethod('re',function(value){var arr_loc=[];$('select.select_location').each(function(){$(this).find('optgroup option').each(function(){if($(this).is(':selected')&&$(this).val()!=''){arr_loc.push($(this).val());}});});var str_loc=arr_loc.join(",");if(str_loc!="")
return true
else
return false;},language.Emp_postjobs_select_location);$.validator.addMethod('check_industry_select',function(value){if($("#chktopcat").length&&$("#chktopcat").val()==1);return true;if($("#select_industry_db").val().length>0)
return true;return false;},language.js_resume_industry_required);$.validator.addMethod('checkValidateYoutube',function(value){var url=$('#strVideo').val();url=url.replace(/^\s+|\s+$/g,"");if(url!='')
{var pos=url.indexOf('youtube.com/watch?v=');if(pos<0){return false;}
$.ajax({type:"POST",url:domain+'employers/postjobs/checklinkyoutube',dataType:'JSON',data:'link='+url,success:function(rs)
{if(rs=='0')
return false;else
return true;}});}
return true;},language.emp_photo_error_youtube);$("#select_industry_db").chosen({max_selected_options:3}).change(function(){if($("#select_industry_db").val().length>0)
$(".error_select_industry_db_1").html('');});$("#frmEditJob").validate({groups:{checks1:checkbox_name_job},ignore:":disabled, :hidden:not(.editor,select)",onfocusout:false,rules:{'job_salaryunit':{checkSalary:true},'JOB_ISEXPERIENCE':{required:true,checkExperience:true},'job_title':{required:true,checkJobTitle:true,maxlength:150,checkPhoneEmailUrlInput:true},'job_code':{checkSpecialCharPostJob:true},'job_desc':{checkMinimumInputDesEditor:true,checkMaxInputDesEditor:true},'INDUSTRY_ID[]':{check_industry_select:true},'LOCATION_ID[]':{required:true},'job_req':{checkMinimumInputRegEditor:true,checkMaxInputRegEditor:true},'JOB_LASTDATE':{required:true},'LEVEL_ID':{required:true},'JOB_PROBATIONTIME':{checkCharacterSpec:true,maxlength:70,checkPhoneEmailUrlInput:true},'JOB_WORKTIME':{checkCharacterSpec:true,maxlength:70,checkPhoneEmailUrlInput:true},'JOB_TRAINOPPORTUNITY':{checkPhoneEmailUrlInput:true,maxlength:300},'JOB_COLLEAGUE':{checkPhoneEmailUrlInput:true,maxlength:300},'JOB_BENEFIT':{checkPhoneEmailUrlInput:true,maxlength:300},'JOB_ANNUALLEAVE':{checkPhoneEmailUrlInput:true,maxlength:300},'JOB_ADDSALARY':{checkPhoneEmailUrlInput:true,maxlength:300},'JOB_CONTACT_NAME':{required:true,maxlength:150,checkPhoneEmailUrlInput:true},'JOB_CONTACT_PHONE':{required:true},'JOB_CONTACT_COMPANY':{required:true,maxlength:450,checkPhoneEmailUrlInput:true},'JOB_CONTACT_ADDRESS':{required:true,checkPhoneEmailUrlInput:true,maxlength:600},'JOB_CONTACT_EMAIL':{required:true,multiemail:true},'JOB_CONTACT_EMAIL2':{multiemail:true},'reply_title':{required:true,maxlength:70},'reply_content':{required:true,minlength:30,maxlength:3000},'strVideo':{checkValidateYoutube:true,}},errorPlacement:function(error,element){if(element.attr("name")=="job_type1")
$("#last_jobtype").html(error.html());else if(element.attr("name")=="job_salaryunit")
$("#error_salary").html(error.html());else
element.closest('div').find('span.form-error').html(error.html());hide_loading_page();},success:function(element){element.closest('div').find('span.form-error').html('');hide_loading_page();},messages:{'job_title':{required:language.Emp_postjobs_job_title_invalid},'job_desc':{required:language.Emp_postjobs_Job_desciption_is_invalid,checkMinimumInputDesEditor:language.Emp_postjobs_Job_desciption_is_invalid,checkMaxInputDesEditor:language.Emp_postjobs_Job_desciption_more_character},'job_req':{required:language.Emp_postjobs_skill_requirement_is_invalid,checkMinimumInputRegEditor:language.Emp_postjobs_skill_requirement_is_invalid,checkMaxInputRegEditor:language.Emp_postjobs_skill_requirement_more_character},'JOB_ISEXPERIENCE':{required:language.Emp_postjobs_Please_choose_experience},'LEVEL_ID':{required:language.Emp_postjobs_Please_choose_career_level},'select_location_db':{required:language.Emp_postjobs_please_select_location},'JOB_LASTDATE':{required:language.Emp_postjobs_Pleate_enter_expiring_date},'JOB_CONTACT_COMPANY':{required:language.Emp_postjobs_Please_enter_company,maxlength:language.Emp_postjobs_Please_enter_company_maxlength,},'JOB_CONTACT_ADDRESS':{required:language.Emp_postjobs_Please_enter_address,},'JOB_CONTACT_NAME':{required:language.Emp_postjobs_Please_enter_contact_name,maxlength:language.Emp_postjobs_Please_enter_contact_name_maxlength,},'JOB_CONTACT_EMAIL':{required:language.Emp_postjobs_Please_enter_Email1,multiemail:language.Emp_postjobs_Please_enter_Email1_valid,},'JOB_CONTACT_EMAIL2':{multiemail:language.Emp_postjobs_Please_enter_Email1_valid,},'JOB_PROBATIONTIME':{checkPhoneEmailUrlInput:language.Emp_postjobs_not_phone_email_url},"LOCATION_ID[]":{required:language.Emp_postjobs_select_location}},invalidHandler:function(form,validator){var errors=validator.numberOfInvalids();if(errors){if($(validator.errorList[0].element).is(":visible")){validator.errorList[0].element.focus();}else{$('html,body').animate({scrollTop:$("#div_jobdesc").offset().top},'slow');}}}});$("#frmEditJob").submit(function(){$('#job_title').val($.trim($('#job_title').val()));$('#job_code').val($.trim($('#job_code').val()));$('#salary_from').val($('#salary_from').val().replace(/[^0-9\s]/gi,''));if($('#salary_from').val()==0)$('#salary_from').val('');$('#salary_to').val($('#salary_to').val().replace(/[^0-9\s]/gi,''));if($('#salary_to').val()==0)$('#salary_to').val('');if($("#frmEditJob").valid()){var sel_work_location=$('select[name="work_location[]"]');sel_work_location.each(function(index,obj){var arr_workloc=[];$(this).children('option').each(function(){if($(this).is(':selected')&&$(this).val()!=''){arr_workloc.push($(this).val());}});var str_workloc=arr_workloc.join(",");$("#work_location_"+index).val(str_workloc);str_workloc="";});return true;}
return false;});if($(".keyword").length>0){var link_ajax=PATH_KIEMVIEC+'jobseekers/index/getlistkeyword?typedata=json';$('.keyword').autoComplete({minChars:3,source:function(term,response){term=term.toLowerCase();$.getJSON(link_ajax,{q:term,limit:10},function(data){response(data);});}});}});function change_security(t){if($(t).is(":checked"))
$('#security_client').show();else
$('#security_client').hide();}
function chooseFromListJob(user_id){$.fancybox.open({'src':domain+'employers/postjobs/chooselistjob?newLayout=1&user_id='+user_id,'type':'ajax'});}
function popupProfileAjax(){$.fancybox.open({'src':domain+'employers/popup/profile?newLayout=1&emp_id='+$('#company_profile').val(),'type':'ajax'});}
function loadPagingAjax(user_id,page){$.ajax({type:"POST",url:domain+'employers/postjobs/chooselistjob?newLayout=1',data:{'user_id':user_id,'page':page},success:function(rs){$('#ListJob').html(rs);}})}
function loadJobTemplate(job_id){$.ajax({type:"POST",url:domain+'employers/postjobs/loadjobtemplate',dataType:'JSON',data:{'job_id':job_id},success:function(rs){$.each(rs,function(key,val){$('#job_title').val(val.JOB_TITLE);$('#job_code').val(val.JOB_CODE);$('#job_desc').val(val.JOB_CONTENT);$('#cke_job_desc').val(val.JOB_CONTENT);$('#job_req').val(val.JOB_REQUIRESKILL);$('#cke_job_req').val(val.JOB_REQUIRESKILL);if(val.intType1==1)
$('#job_type1').attr('checked',true);if(val.intType2==1)
$('#job_type2').attr('checked',true);if(val.intType3==1)
$('#job_type3').attr('checked',true);if(val.intType4==1)
$('#job_type4').attr('checked',true);if(val.intWorkType1==1)
$('#work_type1').attr('checked',true);if(val.intWorkType2==1)
$('#work_type2').attr('checked',true);if(val.intWorkType3==1)
$('#work_type3').attr('checked',true);if(val.intWorkType4==1)
$('#work_type4').attr('checked',true);$("#job_salaryunit option[value='"+val.JOB_SALARYUNIT+"']").prop('selected','selected');if($('#job_salaryunit option:selected').val()=='usd'){$("#salary_from").val(val.JOB_FROMSALARY).formatCurrency({digitGroupSymbol:'.'}).attr('disabled',false);$("#salary_to").val(val.JOB_TOSALARY).formatCurrency({digitGroupSymbol:'.'}).attr('disabled',false);}else if($('#job_salaryunit option:selected').val()=='vnd'){$("#salary_from").val(val.JOB_FROMSALARY).formatCurrency().attr('disabled',false);$("#salary_to").val(val.JOB_TOSALARY).formatCurrency().attr('disabled',false);}
$('#JOB_ADDSALARY').val(val.JOB_ADDSALARY);$('#JOB_LOCATESTATE').val(val.JOB_LOCATESTATE);$('#JOB_LASTDATE').val(val.JOB_LASTDATE);if(val.JOB_GENDER==0)
$('#rnamnu').attr('checked',true);else if(val.JOB_GENDER==1)
$('#rnam').attr('checked',true);else
$('#rnu').attr('checked',true);$('#JOB_FROMAGE').val(val.JOB_FROMAGE);$('#JOB_TOAGE').val(val.JOB_TOAGE);$("#JOB_ISEXPERIENCE option[value='"+val.JOB_ISEXPERIENCE+"']").prop('selected','selected');if(val.JOB_ISEXPERIENCE==1){$('#JOB_FROMEXPERIENCE').val(val.JOB_EXPERIENCE);$('#JOB_TOEXPERIENCE').val(val.JOB_TOEXPERIENCE);$('#JOB_EXPERIENCE').show();}else{$('#JOB_FROMEXPERIENCE').val('');$('#JOB_TOEXPERIENCE').val('');$('#JOB_EXPERIENCE').hide();}
$("#LEVEL_ID option[value='"+val.LEVEL_ID+"']").prop('selected','selected');$("#DEGREE_ID option[value='"+val.DEGREE_ID+"']").prop('selected','selected');$('#JOB_INDUSTRY_NOTE').val(val.JOB_INDUSTRY_NOTE);$('#JOB_PROBATIONTIME').val(val.JOB_PROBATIONTIME);$('#JOB_WORKTIME').val(val.JOB_WORKTIME);$('#JOB_TRAINOPPORTUNITY').val(val.JOB_TRAINOPPORTUNITY);$('#JOB_COLLEAGUE').val(val.JOB_COLLEAGUE);$('#JOB_BENEFIT').val(val.JOB_BENEFIT);$('#JOB_ANNUALLEAVE').val(val.JOB_ANNUALLEAVE);$('#JOB_CONTACT_NAME').val(val.JOB_CONTACT_NAME);$('#JOB_CONTACT_COMPANY').val(val.JOB_CONTACT_COMPANY);$('#JOB_CONTACT_ADDRESS').val(val.JOB_CONTACT_ADDRESS);$('#JOB_CONTACT_PHONE').val(val.JOB_CONTACT_PHONE);$('#JOB_CONTACT_FAX').val(val.JOB_CONTACT_FAX);$('#JOB_CONTACT_EMAIL').val(val.JOB_CONTACT_EMAIL);$('#JOB_CONTACT_EMAIL2').val(val.JOB_CONTACT_EMAIL2);if(val.Hide_Name==1){$('.Hide_Name').attr('checked',true);$('#security_client').show();if(val.Hide_Job==0)
$('#JOB_CONTACT_SECRECY').attr('checked',true);else
$('#JOB_CONTACT_CLIENT').attr('checked',true);}else{$('.Hide_Name').attr('checked',false);$('#security_client').hide();}
var strIndustry=val.JOB_INDUSTRY;var arr_industry=strIndustry.split(',');$("#select_industry_db option[value="+$.trim(arr_industry[0])+"]").prop('selected',true);if(typeof(arr_industry[1])!='undefined')
$("#select_industry_db option[value="+$.trim(arr_industry[1])+"]").prop('selected',true);if(typeof(arr_industry[2])!='undefined')
$("#select_industry_db option[value="+$.trim(arr_industry[2])+"]").prop('selected',true);$('#select_industry_db ').trigger('chosen:updated');if(val.Hide_Address==1)
$('.Hide_Address').attr('checked',true);else
$('.Hide_Address').attr('checked',false);if(val.Hide_FullName==1)
$('.Hide_FullName').attr('checked',true);else
$('.Hide_FullName').attr('checked',false);if(val.JOB_LANGUAGE_EMAIL==1)
$('#JOB_LANGUAGE_EMAIL2').attr('checked',true);else
$('#JOB_LANGUAGE_EMAIL1').attr('checked',true);if(val.JOB_RECEIVEMAIL==1)
$('#JOB_RECEIVEMAIL').attr('checked',true);if(val.JOB_APPLYONLINE==1){$('#JOB_APPLYONLINE').attr('checked',true);$('#reply_title').attr('disabled',false);$('#reply_content').attr('disabled',false);$('#MailReply').css('display','block');}});$.fancybox.close();$(".form-error").html('');$("input").removeClass('error');}})}
function saveOrder(user_id){closeAllmodal();$('#btnSave').attr('disabled','disabled');$('#btnCancel').attr('disabled','disabled');$.ajax({cache:false,type:"POST",url:domain+'employers/hrcentral/saveorder',data:$('#frmOrder').serialize(),dataType:'json',async:false,success:function(rs){if(rs==2){show_noti(2,language.Emp_hrcentral_not_exist_job,language.message_common);}else if(rs==3){show_noti(2,language.Emp_hrcentral_not_exist_job,language.message_common);}else if(rs==4){$.confirm({title:language.message_common,titleClass:'text-center',content:'<div class="text-center">'+language.emp_hrcentral_postjob_successfull+'</div>',theme:'bootstrap',animation:'scale',type:'green',buttons:{confirm:{text:language.employers_confirm_btn_agree,btnClass:'btn-blue',action:function(){window.location=domain+'employers/hrcentral/posting/user_id/'+user_id;}}}});}else if(rs==5){$.confirm({title:language.message_common,titleClass:'text-center',content:'<div class="text-center">'+language.Emp_hrcentral_save_order_unsuccessfull+'</div>',theme:'bootstrap',animation:'scale',type:'green',buttons:{confirm:{text:language.employers_confirm_btn_agree,btnClass:'btn-blue',action:function(){window.location=domain+'employers/hrcentral/waitposting/user_id/'+user_id;}}}});}else if(rs==6){show_noti(2,language.Emp_hrcentral_save_order_unsuccessfull,language.message_common);}else if(rs==7){$.confirm({title:language.message_common,titleClass:'text-center',content:'<div class="text-center">'+language.save_order_successfull_but_job_refesh_unsuccessfull+'</div>',theme:'bootstrap',animation:'scale',type:'green',buttons:{confirm:{text:language.employers_confirm_btn_agree,btnClass:'btn-blue',action:function(){window.location=domain+'employers/hrcentral/posting/user_id/'+user_id;}}}});}else{$.confirm({title:language.message_common,titleClass:'text-center',content:'<div class="text-center">'+language.emp_hrcentral_addservice_successfull+'</div>',theme:'bootstrap',animation:'scale',type:'green',buttons:{confirm:{text:language.employers_confirm_btn_agree,btnClass:'btn-blue',action:function(){window.location=domain+'employers/hrcentral/posting/user_id/'+user_id;}}}});}}});}
function daterangepicker_all(){moment.locale(CURRENT_LANGUAGE);if($('.dates_sub').length){$('.dates_sub').daterangepicker({"singleDatePicker":true,"autoApply":true,"autoUpdateInput":false,"locale":{"format":"DD/MM/YYYY",},"minDate":moment().add(0,'days'),"maxDate":moment().add(24,'days'),"opens":"center"});$('.dates_sub').on('apply.daterangepicker',function(ev,picker){$(this).val(picker.startDate.format('DD/MM/YYYY'));});}
if($('.sub_date_month_renewjob').length){$('.sub_date_month_renewjob').daterangepicker({"singleDatePicker":true,"autoApply":true,"timePicker":true,"timePicker24Hour":true,"timePickerIncrement":60,"autoUpdateInput":false,"locale":{"format":"DD/MM/YYYY","applyLabel":language.btn_apply,"cancelLabel":language.btn_cancel},"opens":"center","minDate":moment().add(1,'hours'),"maxDate":moment().add(30,'days'),"minHour":6});$('.sub_date_month_renewjob').on('showCalendar.daterangepicker',function(ev,picker){for(i=0;i<6;i++){$(".hourselect option[value="+i+"]").remove();}
for(i=22;i<24;i++){$(".hourselect option[value="+i+"]").remove();}
var nowDate=moment();var selectedDate=moment(picker.startDate);var objTimeSelect=$(this).closest('div.right').find('select.sub_slc_timer');objTimeSelect.children('option').prop('disabled',false);if(nowDate.format('DD/MM/YYYY')==selectedDate.format('DD/MM/YYYY')){objTimeSelect.children('option').each(function(){var $this=$(this);if($this.data('value')<parseInt(nowDate.format('HH'))+1)
$this.prop('disabled',true);});}
$(this).val(picker.startDate.format('DD/MM/YYYY'));$(this).closest('div.right').find('input.sub_slc_timer').val(picker.startDate.format('HH')+':00');});$('.sub_date_month_renewjob').on('apply.daterangepicker, hide.daterangepicker',function(ev,picker){$("#date_month_renewjob").val(picker.startDate.format('DD/MM/YYYY'));$("#time_renewjob").val(picker.startDate.format('HH:mm'));});}
if($('.dates').length){$('.dates').daterangepicker({"singleDatePicker":true,"autoApply":true,"autoUpdateInput":false,"timePicker24Hour":true,"locale":{"format":"DD/MM/YYYY",},"minDate":moment().add(0,'days'),"maxDate":moment().add(24,'days'),"opens":"center"});$('.dates').on('apply.daterangepicker',function(ev,picker){$(this).val(picker.startDate.format('DD/MM/YYYY'));});}
if($('.date_month_renewjob').length){$('.date_month_renewjob').daterangepicker({"singleDatePicker":true,"autoApply":true,"timePicker":true,"timePicker24Hour":true,"timePickerIncrement":60,"autoUpdateInput":false,"locale":{"format":"DD/MM/YYYY","applyLabel":language.btn_apply,"cancelLabel":language.btn_cancel,},"opens":"center","minDate":moment().add(1,'hours'),"maxDate":expirateDate,"minHour":6});$('.date_month_renewjob').on('showCalendar.daterangepicker',function(ev,picker){for(i=0;i<6;i++){$(".hourselect option[value="+i+"]").remove();}
for(i=22;i<24;i++){$(".hourselect option[value="+i+"]").remove();}
var nowDate=moment();var selectedDate=moment(picker.startDate);var objTimeSelect=$(this).closest('div.form-wrap').find('select.slc_timer');objTimeSelect.children('option').prop('disabled',false);if(nowDate.format('DD/MM/YYYY')==selectedDate.format('DD/MM/YYYY')){objTimeSelect.children('option').each(function(){var $this=$(this);if($this.data('value')<parseInt(nowDate.format('HH'))+1)
$this.prop('disabled',true);});}
$(this).val(picker.startDate.format('DD/MM/YYYY'));$(this).closest('div.form-wrap').find('select.slc_timer').val(picker.startDate.format('HH')+':00').prop('disabled',false);});$('.date_month_renewjob').on('apply.daterangepicker, hide.daterangepicker',function(ev,picker){var date=picker.startDate.format('DD/MM/YYYY')
var chk_id=$('input:radio[name=c_pack]:checked').val();var slc_date_id=$(this).attr('id');if(slc_date_id=='date_month_renewjob1_'+chk_id){$('#date_month_renewjob1_'+chk_id).val("");date1=date;date2=$("#date_month_renewjob2_"+chk_id).val();}else{$('#date_month_renewjob2_'+chk_id).val("");date1=$("#date_month_renewjob1_"+chk_id).val();date2=date;}
aday1=date1.split('/');aday2=date2.split('/');aDate1=new Date(aday1[2],aday1[1],aday1[0]);aDate2=new Date(aday2[2],aday2[1],aday2[0]);if(aDate1>aDate2){show_noti(2,language.date1_elder_date2,language.message_common);return true;}
if(slc_date_id=='date_month_renewjob1_'+chk_id){$("#date_month_renewjob1_"+chk_id).val(picker.startDate.format('DD/MM/YYYY'));$("#time_renewjob1_"+chk_id).val(picker.startDate.format('HH:mm'));}else{$("#date_month_renewjob2_"+chk_id).val(picker.startDate.format('DD/MM/YYYY'));$("#time_renewjob2_"+chk_id).val(picker.startDate.format('HH:mm'));}});}}
function validatefrmloginheader(){if($("#frm_login_header").length){$("#frm_login_header").validate({rules:{username:{required:true},password:{required:true}},errorPlacement:function(error,element){element.attr('placeholder',error.html());},messages:{username:{required:language.validate_required},password:{required:language.validate_required}},});}}
function validataSearch(lang){var experience=$('#experience').val();if(experience==1){var experience_from=$('#experience_from').val();var experience_to=$('#experience_to').val();experience_from=Number(experience_from,10);experience_to=Number(experience_to,10);if(experience_from==0&&experience_to==0){alert(language.emp_exp_empty);return false;}else if(experience_from>experience_to&&experience_to>0||experience_from<0||experience_to>=100){alert(language.emp_exp_fail);return false;}}
var salary=$('#salary').val();if(salary=='vnd'||salary=='usd'){var salary_from=$('#salary_from').val();salary_from=salary_from.replace(/[\,\.]/g,"");var salary_to=$('#salary_to').val();salary_to=salary_to.replace(/[\,\.]/g,"");salary_from=parseInt(salary_from);salary_to=parseInt(salary_to);if(salary_from==0||salary_to==0||isNaN(salary_from)||isNaN(salary_to)){alert(language.emp_salary_empty);return false}else if(salary_from>salary_to||salary_from<=0||salary_to>1000000000){alert(language.emp_salary_fail);return false}}
var to_age=$('#to_age').val();var from_age=$('#from_age').val();if(to_age!=""||from_age!=""){if((from_age<16||from_age>60)&&from_age!=""){alert(language.emp_age_fail1);return false;}else if(to_age<from_age&&to_age>0){alert(language.emp_age_fail);return false;}else if((to_age<16||to_age>60)&&to_age!=""){alert(language.emp_age_fail1);return false;}else if(!validateNumber(to_age)&&!validateNumber(from_age)){alert(language.emp_age_fail);return false;}}
var languages=$("#language").val();var languagelevel=$("#languagelevel").val();if(languages!=0&&languagelevel==0){alert(language.emp_language_level);return false;}else if(languages==0&&languagelevel!=0){alert(language.emp_search_resume_language);return false;}
if($('#keyword').val()==language.emp_search_Keywords){$('#keyword').val('');}
var keyword=$('#keyword').val().replace(/\//g,"&frasl;");if(keyword!=''){var p_mail="@[A-Za-z0-9.-]+\.[A-Za-z]{2,4}";var m_mail=keyword.match(p_mail);var pattern_e=/gmail|gmail.com|yahoo|yahoo.com|yahoo.com.vn|mail.com/g;var matches_e=keyword.match(pattern_e);if(isValidEmail(keyword)||checkInputNormalText(keyword)==false||m_mail!=null||matches_e!=null){show_noti(2,language.emp_common_validate_keyword);return false;}
var pattern=/[0-9]+/g;var matches=keyword.match(pattern);if(matches!=null){matches=matches.toString();var arrMatches=matches.split(",");var i=0;$.each(arrMatches,function(key,val){if(val.length>5){i++;}});if(i>0){show_noti(2,language.emp_common_validate_keyword);return false;}}
var str_err=parse_boolean_string(keyword);if(str_err){show_noti(2,str_err);return false;}
var char_open=keyword.match(/\(/g);if(char_open==null)
char_open=0;else
char_open=char_open.length;var char_close=keyword.match(/\)/g);if(char_close==null)
char_close=0;else
char_close=char_close.length;if(parseInt(char_open)-parseInt(char_close)!=0){show_noti(2,language.emp_common_error_keyword_parenthesis);return false;}
if(parseInt(char_open)>2&&parseInt(char_close)>2){show_noti(2,language.emp_common_error_keyword_max_condition);return false;}
var char_n=keyword.match(/\"/g);if(char_n==null)
char_n=0;else
char_n=char_n.length;if(parseInt(char_n)%2!=0){show_noti(2,language.emp_common_error_keyword_parenthesis);return false;}
var pattern_c=/AND|OR/g;var matches=keyword.match(pattern_c);if(matches!=null){matches=matches.toString();var arrMatches=matches.split(",");if(arrMatches.length>3){show_noti(2,language.emp_common_error_keyword_boolean);return false;}}
var pattern_d=/"(.*?)"/g;var matches=keyword.match(pattern_d);if(matches!=null){matches=matches.toString();var arrMatches=matches.split(",");var err='';$.each(arrMatches,function(key,val){var res=val.replace("AND","and");res=res.replace("OR","or");keyword=keyword.replace(val,res);if($.trim(res.replace(/[\"]/g,""))==''){err=language.emp_common_error_keyword_boolean;}else if(res.indexOf('(')>=0||res.indexOf(')')>=0){err=language.emp_common_error_keyword_boolean;}});if(err){show_noti(2,err);return false;}}
var pattern_e=/\(.*?\)/g;var matches=keyword.match(pattern_e);if(matches!=null){matches=matches.toString();if(matches.indexOf('AND')==-1&&matches.indexOf('OR')==-1){show_noti(2,language.emp_common_error_keyword_boolean);return false;}else{var arrMatch=matches.split(",");var err='';$.each(arrMatch,function(key,val){var tmp=val;tmp=tmp.replace('(','');tmp=tmp.replace(')','');var arrMatches=tmp.split(/(AND|OR)/);var tt=0;var ss=0;if(arrMatches.length>1){$.each(arrMatches,function(key,val1){if($.trim(val1)=='AND'||$.trim(val1)=='OR')
tt++;if($.trim(val1)!=''&&$.trim(val1)!='AND'&&$.trim(val1)!='OR')
ss++;});if(ss-tt!=1){err=language.emp_common_error_keyword_boolean;}}else{err=language.emp_common_error_keyword_boolean;}});if(err){show_noti(2,err);return false;}}}}
var industry=getMutiCheckSelect("industry");var location=getMutiCheckSelect("location");var level=$("#level").val();var resume_date=$("#resume_date").val();var degree_id_from=$("#degree_id_from").val();var degree_id_to=$("#degree_id_to").val();var degree_id_to=$("#degree_id_to").val();var job_type=$("#job_type").val();;var gender=$("#gender").val();var time_kind=$('#frm_search input[name="resume_time_kind"]:checked').val();var keyword_match="";keyword_match=$('#frm_search input[name="keyword_match"]:checked').val();var urgentjob=$("#urgentjob").val();setCookie("detail_employer",0);var checkalert=0;if(lang=='en'){var ulr="resume-search";if(industry!=""){checkalert=1;ulr+="/category/"+industry;}
if(location!=""){checkalert=1;ulr+="/location/"+location;}
if(keyword!=""){checkalert=1;ulr+="/keyword/"+keyword;setCookie("detail_employer",1);}
if(level!=0){checkalert=1;ulr+="/level/"+level;}
if(resume_date>0&&resume_date<3650)
ulr+="/resume_date/"+resume_date;if(degree_id_from==0||degree_id_from==6){checkalert=1;ulr+="/degree_from/"+arrDegree[degree_id_from]['key'];}else if(degree_id_from>0&&degree_id_from<6){checkalert=1;ulr+="/degree_from/"+arrDegree[degree_id_from]['key']+"/degree_to/"+arrDegree[degree_id_to]['key'];}
if(experience>=1){checkalert=1;ulr+="/experience/"+experience;if(experience==1)
ulr+="/experience_from/"+experience_from+"/experience_to/"+experience_to;}
if(languages!=0){checkalert=1;ulr+="/language/"+languages+"/language_level/"+languagelevel;}
if(job_type!="0"){checkalert=1;ulr+="/job_type/"+job_type;}
if(salary!="all"){checkalert=1;ulr+="/salary/"+salary;if(salary=='vnd'||salary=='usd')
ulr+="/salary_from/"+salary_from+"/salary_to/"+salary_to;}
if(to_age!=""||from_age!=""){checkalert=1;ulr+="/from_age/"+from_age+"/to_age/"+to_age;}
if(gender>0){checkalert=1;ulr+="/gender/"+gender;}
if(urgentjob>0){checkalert=1;ulr+="/urgentjob/"+urgentjob;}}else if(lang='vi'){var ulr="tim-ung-vien";if(industry!=""){checkalert=1;ulr+="/nganh-nghe/"+industry;}
if(location!=""){checkalert=1;ulr+="/noi-lam-viec/"+location;}
if(keyword!=""){checkalert=1;ulr+="/tu-khoa/"+keyword;setCookie("detail_employer",1);}
if(level!=0){checkalert=1;ulr+="/cap-bac/"+level;}
if(resume_date>0&&resume_date<3650)
ulr+="/ngay-cap-nhat/"+resume_date;if(degree_id_from==0||degree_id_from==6){checkalert=1;ulr+="/bang-cap-tu/"+arrDegree[degree_id_from]['key'];}else if(degree_id_from>0&&degree_id_from<6){checkalert=1;ulr+="/bang-cap-tu/"+arrDegree[degree_id_from]['key']+"/bang-cap-den/"+arrDegree[degree_id_to]['key'];}
if(experience>=1){checkalert=1;ulr+="/kinh-nghiem/"+experience;if(experience==1)
ulr+="/kinh-nghiem-tu/"+experience_from+"/kinh-nghiem-den/"+experience_to;}
if(languages!=0){checkalert=1;ulr+="/ngoai-ngu/"+languages+"/trinh-do/"+languagelevel;}
if(job_type!="0"){checkalert=1;ulr+="/hinh-thuc/"+job_type;}
if(salary!="all"){checkalert=1;ulr+="/luong/"+salary;if(salary=='vnd'||salary=='usd')
ulr+="/luong-tu/"+salary_from+"/luong-den/"+salary_to;}
if(to_age!=""||from_age!=""){checkalert=1;ulr+="/tu-tuoi/"+from_age+"/den-tuoi/"+to_age;}
if(gender>0){checkalert=1;ulr+="/gioi-tinh/"+gender;}
if(urgentjob>0){checkalert=1;ulr+="/loai-ung-vien/"+urgentjob;}}
if(time_kind=="last_modify")
ulr+="/time_kind/"+time_kind;if(keyword_match=="title")
ulr+="/keyword_match/title";ulr+="?search=find";if(checkalert==0){show_noti(2,language.emp_search_resume_validate);return false;}
ulr=ulr.replace("++","%2B%2B");ulr=ulr.replace("#","%23");window.location=domain+ulr;return false;}
function getMutiCheckSelect(id){var str="";$("#"+id+" option:selected").each(function(){str+=$(this).val()+",";});return str.substr(0,str.length-1);}
function getCookie(Name){var re=new RegExp(Name+"=[^;]+","i");if(document.cookie.match(re))
return document.cookie.match(re)[0].split("=")[1]
return""}
function setCookie(name,value){document.cookie=name+"="+value+";path=/"}
function setCookieDays(name,value,expiredays){var exdate=new Date();exdate.setDate(exdate.getDate()+expiredays);var c_value=value+((expiredays==null)?"":"; expires="+exdate.toUTCString());document.cookie=name+"="+c_value+";path=/";}
function parse_boolean_string(boolean_string){boolean_string=boolean_string.replace(/[\r\n\t]/g,"");boolean_string=$.trim(boolean_string);var pattern=/(AND|OR|\(|\))/;var tokens=new Array();tokens=boolean_string.split(pattern);var i=0;$.each(tokens,function(key,val){tokens[key]=$.trim(val);if($.trim(val)==""){tokens.splice(key,1);}
if(val==undefined){tokens.splice(key,1);}});var err='';var total_w=tokens.length;if(tokens[i]==undefined)
tokens.shift();total_w=tokens.length;if(tokens[total_w-1]==undefined)
tokens.pop();total_w=tokens.length;$.each(tokens,function(key,val){i++;if(i==1&&parseInt($.inArray(val,['AND','OR']))>=0){err=language.emp_common_error_keyword_boolean;}
if(i==total_w&&parseInt($.inArray(val,['AND','OR']))>=0){err=language.emp_common_error_keyword_boolean;}
if(parseInt($.inArray(val,['(',')']))>=0&&err==''){err=nCheck(val,tokens,key);}});return err;}
function nCheck(val,tokens,key)
{var err='';if(val=='('&&key>0){var t_tmp=--key;if(tokens[t_tmp]==''||$.inArray(tokens[t_tmp],['AND','OR'])>=0||tokens[t_tmp]==undefined){}else{err=language.emp_common_error_keyword_boolean;}}else if(val==')'){var p_tmp=++key;if(tokens[p_tmp]==''||$.inArray(tokens[p_tmp],['AND','OR'])>=0||tokens[p_tmp]==undefined){}else{err=language.emp_common_error_keyword_boolean;}}
return err;}
$("#degree_id_from").change(function(){id=$(this).val();var htmlDegree="";if(id>0&&id!=6){for(var key in arrDegree){if(key>=1000)continue;if(key>=id)
htmlDegree+="<option value=\""+key+"\">"+arrDegree[key]['name']+"</option>";$("#degree_id_to").removeAttr("disabled");}}else{$("#degree_id_to").attr("disabled","disabled");}
$("#degree_id_to").html(htmlDegree);});$("#salary").change(function(){var id=$(this).val();$("#salary_from").val("");$("#salary_to").val("");if(id=="all"||id=="ltt"){$("#salary_from").attr("disabled","disabled");$("#salary_to").attr("disabled","disabled");}else{$("#salary_from").removeAttr("disabled");$("#salary_to").removeAttr("disabled");}});var page_load=0;$('#filter_viewed, #filter_saved, #filter_coworker').click(function(event){if($('#filter_viewed').is(':checked')||$('#filter_saved').is(':checked')||$('#filter_coworker').is(':checked')){page_load=0;}});$('#flip_next').click(function(){if(!$('#filter_viewed').is(':checked'))
page_load+=1;});$('#flip_prev').click(function(){if(page_load>0)
page_load-=1;});function windowFlipView(param_cond,page,view){$.fancybox.close('all');var filter_viewed=0;if($('#filter_viewed').attr("checked"))
filter_viewed=1;var filter_saved=0;if($('#filter_saved').attr("checked"))
filter_saved=1;var filter_coworker=0;if($('#filter_coworker').attr("checked"))
filter_coworker=1;if(!$('#filter_viewed').is(':checked')&&!$('#filter_saved').is(':checked')&&!$('#filter_coworker').is(':checked')&&page>0){$('#filter_viewed, #filter_saved, #filter_coworker').click(function(event){$('#page_return').val(page);});}
var page_return=$('#page_return').val();$.ajax({type:"POST",url:domain+'employers/popup/showflipview',data:{'param_cond':param_cond,'page':page,'view':view,'page_return':page_return,'filter_viewed':filter_viewed,'filter_saved':filter_saved,'filter_coworker':filter_coworker,'newLayout':1},dataType:'JSON',beforeSend:function(){show_loading_page();},complete:function(){hide_loading_page();},success:function(obj){if(obj.msg_error==''){$('#contentResumeFlip').html(obj.content);$('#actionPanel').html(obj.actionBar);$('#titleBar').html(obj.titleBar);$('#myTag').html(obj.myTag);$('#resume_title').html(obj.arrResume['RESUME_HEADLINE_VN']);$.fancybox.open({'src':'#flip-view-modal'});if(obj.offset==0||(page_load==0&&($('#filter_viewed').is(':checked')||$('#filter_saved').is(':checked')||$('#filter_coworker').is(':checked')))){$('#flip_prev').attr('onclick','javascript:void(0);');$('#flip_prev').css('display','none');}else{$('#flip_prev').attr('onclick','windowFlipView("'+obj.param_cond+'",'+(parseInt(obj.offset)-1)+', 1)');$('#flip_prev').css('display','block');}
if((parseInt(obj.offset)+1)<obj.countResumes){$('#flip_next').attr('onclick','windowFlipView("'+obj.param_cond+'",'+(parseInt(obj.offset)+1)+', 2)');$('#flip_next').css('display','block');}else{$('#flip_next').attr('onclick','javascript:void(0);');$('#flip_next').css('display','none');}
$('#filter_viewed').attr('onclick','windowFlipView("'+obj.param_cond+'", 0, 2)');$('#filter_saved').attr('onclick','windowFlipView("'+obj.param_cond+'", 0, 2)');$('#filter_coworker').attr('onclick','windowFlipView("'+obj.param_cond+'", 0, 2)');if(!$('#filter_viewed').is(':checked')&&!$('#filter_saved').is(':checked')&&!$('#filter_coworker').is(':checked')){$('#page_return').val(-1);}}else{if(obj.code==3){alert(obj.msg_error);$('#filter_viewed').attr('checked',false);$('#filter_saved').attr('checked',false);$('#filter_coworker').attr('checked',false);$('#page_return').val(-1);$('#ResumeFlip').css('display','none');}else if(obj.code==2){window.location.href=obj.msg_error;}}}})}
function windowFlipViewHR(param_cond,page,type){$.fancybox.close('all');$.ajax({type:"POST",url:domain+'employers/popup/showflipviewhr',data:{'param_cond':param_cond,'page':page,'type':type,'newLayout':1},dataType:'JSON',beforeSend:function(){show_loading_page();},complete:function(){hide_loading_page();},success:function(obj){if(obj.msg_error==''){$('#contentResumeFlip').html(obj.content);$('#actionPanel').html(obj.actionBar);$('#titleBar').html(obj.titleBar);$('#myTag').html(obj.myTag);$('#folder_title').html(obj.folderName);if(obj.boxStatus){$('#contentResume').removeClass('ListResumeFlip');$('#boxStatus').html(obj.boxStatus);}else{$('#boxStatus').html("");$('#contentResume').addClass('ListResumeFlip');}
if(obj.CurPage==1){$('#flip_prev').attr('onclick','javascript:void(0);');$('#flip_prev').css('display','none');}else{$('#flip_prev').attr('onclick','windowFlipViewHR("'+obj.param_cond+'",'+(parseInt(obj.CurPage)-1)+', '+(parseInt(obj.type))+')');$('#flip_prev').css('display','block');}
if(parseInt(obj.CurPage)<parseInt(obj.TotalPage)){$('#flip_next').attr('onclick','windowFlipViewHR("'+obj.param_cond+'",'+(parseInt(obj.CurPage)+1)+', '+(parseInt(obj.type))+')');$('#flip_next').css('display','block');}else{$('#flip_next').attr('onclick','javascript:void(0);');$('#flip_next').css('display','none');}
$.fancybox.open({'src':'#flip-view-hr'});}else{if(obj.code==3){alert(obj.msg_error);$('#ResumeFlip').css('display','none');}else if(obj.code==2){window.location.href=obj.msg_error;}}}})}
function addResumeTag(resume_id){$.fancybox.open({'src':domain+'employers/hrcentral/addtag','type':"ajax",'ajax':{'settings':{'data':{'resume_id':resume_id,'newlayout':1},'method':'POST'}},'beforeClose':function(){$('#resume_tag_input').autoComplete('destroy');},'touch':false,});return false;}
function delResumeTag(resume_id,tag){$.ajax({type:'POST',url:domain+'employers/hrcentral/addtag',data:{'resume_id':resume_id,'tag':tag,'status':'-1'}}).done(function(){location.reload();});return false;}
function saveResumeTag(){show_loading_page();$.ajax({type:'POST',url:domain+'employers/hrcentral/addtag',data:$('#frmResumeTag').serialize()}).done(function(){hide_loading_page();$.fancybox.close();location.reload();});return false;}
function addResumeTagFlipView(resume_id,param_cond,page){$.fancybox.open({'src':domain+'employers/hrcentral/addtag','type':"ajax",'ajax':{'settings':{'data':{'resume_id':resume_id,'param_cond':param_cond,'page':page,'newlayout':1},'method':'POST'}},'beforeClose':function(){$('#resume_tag_input').autoComplete('destroy');}});return false;}
function delResumeTagFlipView(resume_id,tag,param_cond,page){$.ajax({type:'POST',url:domain+'employers/hrcentral/addtag',data:{'resume_id':resume_id,'tag':tag,'status':'-1'}}).done(function(){if(param_cond)
windowFlipView(param_cond,page,4);else
location.reload();});return false;}
function saveResumeTagFlipView(param_cond,page){$.ajax({type:'POST',url:domain+'employers/hrcentral/addtag',data:$('#frmResumeTag').serialize()}).done(function(){if(param_cond){windowFlipView(param_cond,page,4);}else{location.reload();}
$.fancybox.close();});return false;}
function showFoldersSelected(str_id,name){if(str_id==''){var checkchild=document.getElementsByTagName('input');var ids="";var from=document.editFrm1;for(var i=0;i<checkchild.length;i++){if(checkchild[i].type=="checkbox"&&checkchild[i].name==name){if(checkchild[i].checked){var resume_tmp=checkchild[i].value.split('_');ids=ids+resume_tmp[0]+',';}}}
if(ids==""){show_noti(2,language.emp_manager_pleasechoose_resume);return false;}}else{ids=str_id;}
$.fancybox.open({'src':domain+'employers/hrcentral/manageresume/showfolders','type':"ajax",'ajax':{'settings':{'data':{'str_id':ids,'newlayout':1},'method':'POST'}}});}
function saveResumeFolder(){$("#frmSaveResumeFolder").validate({rules:{folder_ids:{required:true},folder_name:{required:true}},errorPlacement:function(error,element){element.closest('div').find('span.error').html(error.html())},success:function(element){element.closest('div').find('span.error').html('');},highlight:function(element){$(element).parent().removeClass("error");},unhighlight:function(element){$(element).parent().removeClass("error");},submitHandler:function(){var objBtn=$('#frmSaveResumeFolder').find('button');objBtn.prop('disabled',true);$.ajax({type:"POST",url:domain+'employers/hrcentral/manageresume/savelistresumeinfolder',dataType:'JSON',data:$('#frmSaveResumeFolder').serialize(),success:function(data){if(data.msg=='errexist'){objBtn.prop('disabled',false);show_noti(2,language.emp_manager_exist_folder_name);$('#folder_name').focus();}else if(data.msg=='successfull'){objBtn.prop('disabled',false);$.fancybox.close();show_noti(1,language.emp_message_save_folder_success);}else if(data.msg=='comfirm'){objBtn.prop('disabled',false);$.fancybox.open({'src':domain+'employers/hrcentral/manageresume/comfirmsaveresume','type':"ajax",'ajax':{'settings':{'data':{'str_resume_id':data.str_resume_id,'folder_id':data.folder_id,'newlayout':1,},'method':'POST'}}});}}});}});}
function addResumeHidden(type,rsid){$.ajax({type:"POST",url:domain+'employers/hrcentral/addhidden',data:{'type':type,'resume_id':rsid},dataType:"JSON",success:function(ret){location.reload();}});return true;}
function addResumeHiddenFlipView(type,rsid,param_cond,page){$.ajax({type:"POST",url:domain+'employers/hrcentral/addhidden',data:{'type':type,'resume_id':rsid},dataType:"JSON",success:function(ret){if(param_cond)
windowFlipView(param_cond,page,4);else
location.reload();}});return true;}
function saveSearchInfo(){var search_title=$.trim(document.getElementById('savesearch_title').value);var term;if(search_title==''||search_title.length>70){show_noti(2,language.emp_alert_emp_name);return false;}else{var data=$("#frmAdvanceSearch").serialize();$.ajax({url:domainroot+'/employers/saved-search-resume',type:'POST',dataType:'json',data:data,}).done(function(res){$("#savesearchresume_info").prop('disabled',true);if(res.status==1)
show_noti(1,res.msg);else
show_noti(2,res.msg);});return false;}}
function loadResumeNoted(start,res_id,fol_id){$.ajax({type:"POST",dataType:"json",url:domain+"employers/hrcentral/manage_resumes/resumes_detail/loadresumenoted/"+fol_id+"/"+res_id+"/"+start,success:function(data){$('#list_note_resume').html(data.SCRIPT);if(data.FOUND_ROWS>=20)
$('#NotesResume').hide();else
$('#NotesResume').show();}});}
function showClassifiedResume(str_res_id,string_f_id,param_cond_hr,page,type){$.fancybox.open({src:domain+'employers/hrcentral/manageresume/classifiedresume?newlayout=1',type:'ajax',ajax:{settings:{data:{'string_resume_id':str_res_id,'string_folder_id':string_f_id,'param_cond_hr':param_cond_hr,'page':page,'type':type},type:"POST"}}});}
function showResumeForInvite(folder_id,resume_id){$.fancybox.open({src:domain+'employers/hrcentral/manageresume/resumeinvite?newlayout=1',type:'ajax',ajax:{settings:{data:{'str_folder_id':folder_id,'str_resume_id':resume_id},type:"POST"}}});}
function resetInviteLetter(){$('#frmResumeForInvite').each(function(){this.reset();});$('#f_username').attr('disabled',false);$('#f_email').attr('disabled',true);}
function showNotifyMail(folder_id,resume_id){$.fancybox.close('all');var email=$('p#email_curent').text();$.fancybox.open({src:domain+'employers/hrcentral/manageresume/resumenotify?newlayout=1',type:'ajax',ajax:{settings:{data:{'str_folder_id':folder_id,'str_resume_id':resume_id,'email':email},type:"POST"}}});}
function loadEmployerLetters(user_id){$.ajax({type:"POST",url:domain+'employers/hrcentral/manageresume/loadempletters',dataType:'JSON',data:'user_id='+user_id,success:function(rs){$('#letter_id option').remove();$('#letter_id').append('<option value="0">'+language.Emp_Choice+'</option>');$.each(rs,function(key,val){$('#letter_id').append('<option value="'+val.LETTER_ID+'">'+val.LETTER_TITLE+'</option>');});}});}
function loadLettersById(letter_id){$.ajax({type:"POST",url:domain+'employers/hrcentral/manageresume/loadletterinfo',dataType:'JSON',data:'letter_id='+letter_id,success:function(rs){$.each(rs,function(key,val){if(key=='LETTER_TITLE')
$('#letter_title').val(val);else if(key=='LETTER_CONTENT')
$('#letter_content').val(val);});$('#update2my').removeAttr('disabled');}});}
function loadLettersById(letter_id){$.ajax({type:"POST",url:domain+'employers/hrcentral/manageresume/loadletterinfo',dataType:'JSON',data:'letter_id='+letter_id,success:function(rs){$.each(rs,function(key,val){if(key=='LETTER_TITLE')
$('#letter_title').val(val);else if(key=='LETTER_CONTENT')
$('#letter_content').val(val);});$('#update2my').removeAttr('disabled');}});}
function downloadResume(resume_id,jobseeker_id){document.location=domain+'employers/popup/downloadresume?resume_id='+resume_id;}
function checkInviteOption(v){if(v==1){$('#f_username').attr('disabled',false);$('#f_email').attr('disabled',true);}else{$('#f_username').val(-1);$('#f_username').attr('disabled',true);$('#f_email').attr('disabled',false);}}
function resetInviteLetter(){$('#frmResumeForInvite').each(function(){this.reset();});$('#f_username').attr('disabled',false);$('#f_email').attr('disabled',true);}
function createNoteForResume(){if(($('#note_content').val().length<6)||($('#note_content').val().length>500)||($('#note_content').val()==language.emp_manager_write_note)){show_noti(2,language.emp_managerresume_Please_enter_content,language.message_common);$('#note_content').select();return false;}else{$("#btn-create-note-resume").prop('disabled',true);var data=new Object();data.hexFolderID=$('#hexFolderID').val();data.intResumeId=$('#intResumeId').val();data.note_content=$('#note_content').val();$('#note_content').val('');var dataString=JSON.stringify(data);$.ajax({type:"POST",url:domain+'employers/hrcentral/manage_resumes/resumes_detail/createnoteresume',data:'data='+dataString,success:function(data){switch(data){case'1':loadResumeNoted(0,$('#hexResumeID').val(),$('#hexFolderID').val());$("#btn-create-note-resume").prop('disabled',false);break;case'2':show_noti(2,language.Ban_khong_co_quyen_thao_tac,language.message_common);break;case'3':show_noti(2,language.emp_managerresume_add_note_failure,language.message_common);break;}}});}}
function deleteResumeNoted(intNote,currentPage){$.ajax({type:"POST",url:domain+"employers/hrcentral/manage_resumes/resumes_detail/deleteresumenote/"+$('#intResumeId').val()+"/"+intNote+"/"+currentPage,success:function(data){loadResumeNoted(data,$('#hexResumeID').val(),$('#hexFolderID').val());}});}
function viewInfoResume(emp_id,resume_id){var joborder_id=$('#joborder_id').val();var token_=$('#joborder_id').closest("div#resumeLock").find('#token_view_info_resume').val();$("#btnViewInfoResume").prop('disabled',true);$("#resumeLock").addClass('checking');if(typeof(joborder_id)=="undefined"){show_noti(2,language.emp_common_manageresume_no_order_search);$("#resumeLock").removeClass('checking');$("#btnViewInfoResume").prop('disabled',false);return false;}
$.ajax({type:"POST",url:domain+'employers/hrcentral/manageresume/viewinforesume',data:'emp_id='+emp_id+'&resume_id='+resume_id+'&joborder_id='+joborder_id+'&csrf_token='+token_,success:function(rs){if(rs==-1){show_noti(2,language.emp_common_manageresume_no_order_search);setTimeout(function(){var url=location.href;window.location.href=url;},2000);}else if(rs==3){$.confirm({title:language.message_common,content:language.emp_common_manageresume_resume_credit_promotion,buttons:{confirm:{text:language.emp_common_manageresume_resume_btn_confirm,btnClass:'btn-blue',action:function(){var url=location.href;window.location.href=url;}}}});}else if(rs==-2){$.confirm({title:language.message_common,content:language.emp_common_manageresume_resume_csrf_token_fail,buttons:{confirm:{text:language.emp_common_manageresume_resume_btn_confirm,btnClass:'btn-blue',action:function(){var url=location.href;window.location.href=url;}}}});}else{var url=location.href;window.location.href=url;}}});}
function viewInfoResumeFlipView(emp_id,resume_id,param_cond,page){var joborder_id=$('#joborder_id').val();var token_=$('#joborder_id').closest("div#resumeLock").find('#token_view_info_resume').val();$("#btnViewInfoResume").prop('disabled',true);$("#resumeLock").addClass('checking');if(typeof(joborder_id)=="undefined"){show_noti(2,language.emp_common_manageresume_no_order_search);$("#btnViewInfoResume").prop('disabled',false);$("#resumeLock").removeClass('checking');return false;}
$.ajax({type:"POST",url:domain+'employers/hrcentral/manageresume/viewinforesume',data:'emp_id='+emp_id+'&resume_id='+resume_id+'&joborder_id='+joborder_id+'&csrf_token='+token_,success:function(rs){if(rs==-1){show_noti(2,language.emp_common_manageresume_no_order_search);$("#btnViewInfoResume").prop('disabled',false);$("#resumeLock").removeClass('checking');}else if(rs==3){$.confirm({title:language.message_common,content:language.emp_common_manageresume_resume_credit_promotion,buttons:{confirm:{text:language.emp_common_manageresume_resume_btn_confirm,btnClass:'btn-blue',action:function(){if(param_cond)
windowFlipView(param_cond,page,3);else
location.reload();}}}});}else{if(param_cond)
windowFlipView(param_cond,page,3);else
location.reload();}}});}
function viewInfoResumeFree(emp_id,resume_id,job_id){$.ajax({sync:true,type:"POST",url:domain+'employers/hrcentral/manageresume/viewinforesume',data:{'emp_id':emp_id,'resume_id':resume_id,'job_id':job_id},success:function(rs){str=document.location.href+"&t=1";document.location.href=str;}});}
function viewInfoResumeFreeFlipView(emp_id,resume_id,job_id,param_cond,page){var token_=$('#joborder_id').closest("div#resumeLock").find('#token_view_info_resume').val();$.ajax({sync:true,type:"POST",url:domain+'employers/hrcentral/manageresume/viewinforesume',data:{'emp_id':emp_id,'resume_id':resume_id,'job_id':job_id,'csrf_token':token_},success:function(rs){if(param_cond){windowFlipView(param_cond,page);}else{str=document.location.href+"&t=1";document.location.href=str;}}});}
function viewInfoResumeFreeFlipViewHR(emp_id,resume_id,job_id,param_cond,page){var joborder_id=$('#joborder_id').val();var token_=$('#joborder_id').closest("div#resumeLock").find('#token_view_info_resume').val();if(typeof(joborder_id)=="undefined"){show_noti(2,language.emp_common_manageresume_no_order_search);return false;}
$.ajax({sync:true,type:"POST",url:domain+'employers/hrcentral/manageresume/viewinforesume',data:{'emp_id':emp_id,'resume_id':resume_id,'job_id':job_id,'joborder_id':joborder_id,'csrf_token':token_},success:function(rs){if(rs==-1){show_noti(2,language.emp_common_manageresume_no_order_search);}else if(rs==3){$.confirm({title:language.message_common,content:language.emp_common_manageresume_resume_credit_promotion,buttons:{confirm:{text:language.emp_common_manageresume_resume_btn_confirm,btnClass:'btn-blue',action:function(){if(param_cond){windowFlipViewHR(param_cond,page,1);}else{str=document.location.href+"&t=1";document.location.href=str;}}}}});}else{if(param_cond){windowFlipViewHR(param_cond,page,1);}else{str=document.location.href+"&t=1";document.location.href=str;}}}});}
function updateClassifiedResume(id,fd_id,type){$.ajax({url:domain+'employers/hrcentral/manageresume/updateclassifiedresume',type:'POST',dataType:'json',data:{'id':id,'fd_id':fd_id,'type':type},}).done(function(res){});}
function slideTabslet(){let buttonPrev=$('.main-tabslet .button-prev');let buttonNext=$('.main-tabslet .button-next');let table=$('.box-manage-job-posting .main-jobs-posting .table, .boding-resume-applied .table, .scroll-x, .table-jobs-waiting, .table-jobs-posting');buttonPrev.on('click',function(e){e.preventDefault();table.animate({scrollLeft:"-=290px"},"slow");});buttonNext.on('click',function(e){e.preventDefault();table.animate({scrollLeft:"+=290px"},"slow");});table.bind('scroll',function()
{if($(this).scrollLeft()+$(this).innerWidth()>=$(this)[0].scrollWidth)
{buttonNext.addClass('disabled');}else{buttonNext.removeClass('disabled');}
if($(this).scrollLeft()==0)
{buttonPrev.addClass('disabled');}else{buttonPrev.removeClass('disabled');}});}
function save_resume_to_ts(){$('.save_resume_to_ts').on('click',function(e){e.preventDefault();$(this).prop('disabled',true);$(this).off("click");var resume_id=$("#resume_id").val();if(typeof(resume_id)=="undefined"){show_noti(2,language.save_resume_ts_msg_view_contact);return false;}
$.ajax({type:"POST",url:domain+'employers/popup/saveresumetots',data:{'jobTS_id':$("#jobTS_id").val(),'resume_id':resume_id},beforeSend:function(){$("#save_resume_ts_msg").remove()},success:function(obj){if(obj&&obj!=0){show_noti(1,language.save_resume_ts_msg_success);let time_to_ts=obj;$("#box_save_resume_ts").prepend('<div class="doc-success">\
                            <p id="save_resume_ts_msg" class="text-success"><em class="material-icons">check_circle</em>'+language.save_resume_ts_msg+' '+time_to_ts+'</p>\
                        </div>');}else{show_noti(2,language.save_resume_ts_msg_fail);}}});});}
function searchResumeApply(){if(Date.parse($('#strFromDate').val())>Date.parse($('#strToDate').val())){show_noti(2,language.emp_manageresume_search_date_invalid);return false;}
var strLink=domain+"employers/hrcentral/manageresume/"+folder_type+'/'+hexFolderID+'/';var keyword=$('#strKeyword').val().replace(/\//g,"");if(keyword){if(checkInputNormalText(keyword)==false){show_noti(2,language.emp_hrcentral_validate_keyword);return false}
strLink+=keyword+'/';}else
strLink+='*/';strLink+=$('#intKeywordType').val()+'/';strLink+=$('#inturgentjob').val()+'/';var date_from=$('#strFromDate').val();if(date_from)
strLink+=replaceAll(date_from,'/',"-")+'/';else
strLink+='*/';var date_to=$('#strToDate').val();if(date_to)
strLink+=replaceAll(date_to,'/',"-")+'/';else
strLink+='*/';if(folder_type<=3||folder_type==6){intSortType='0';strSort='desc';}else{intSortType='1';strSort='desc';}
if($('#intSuitable').length>0)
intSuitableResume=$('#intSuitable').val();else
intSuitableResume='2';strLink+=$('#intStatus').val()+'/'+intSuitableResume+'/'+$('#intType').val()+'/'+$('#intNote').val()+'/'+intSortType+'/'+strSort+'/'+strUserId+'/1';location.href=strLink;}
function searchResumeApplySortType(){if(Date.parse($('#strFromDate').val())>Date.parse($('#strToDate').val())){show_noti(2,language.emp_manageresume_search_date_invalid);return false;}
var strLink=domain+"employers/hrcentral/manageresume/"+folder_type+'/'+hexFolderID+'/';var keyword=$('#strKeyword').val().replace(/\//g,"");if(keyword){if(checkInputNormalText(keyword)==false){show_noti(2,language.emp_hrcentral_validate_keyword);return false}
strLink+=keyword+'/';}else
strLink+='*/';strLink+=$('#intKeywordType').val()+'/';var date_from=$('#strFromDate').val();if(date_from)
strLink+=replaceAll(date_from,'/',"-")+'/';else
strLink+='*/';var date_to=$('#strToDate').val();if(date_to)
strLink+=replaceAll(date_to,'/',"-")+'/';else
strLink+='*/';var intStatus=0;var intType=0;if($('#intSortType').length>0){intSortType=$('#intSortType').val();if(intSortType==5){intStatus=$('#strSort').val();intType=6;intSortType='5';}else if(intSortType==6){intStatus=7;intType=$('#strSort').val();intSortType='6';}else{intStatus=7;intType=6;intSortType=$('#intSortType').val();}
strSort=$('#strSort').val();}else{intStatus=$('#intStatus').val();intType=$('#intType').val();intSortType='0';strSort='desc';}
if($('#intSuitable').length>0)
intSuitableResume=$('#intSuitable').val();else
intSuitableResume='2';strLink+=intStatus+'/'+intSuitableResume+'/'+intType+'/'+$('#intNote').val()+'/'+intSortType+'/'+strSort+'/'+strUserId+'/1';location.href=strLink;}
function resetFormSearchResume(){$('#strKeyword').val('');$("#intKeywordType option[value='0']").prop('selected','selected');$('#strFromDate').val('');$('#strToDate').val('');$("#intStatus option[value='7']").prop('selected','selected');$("#intType option[value='6']").prop('selected','selected');$("#intNote option[value='2']").prop('selected','selected');}
function collapseToggle(){$(document).on('click',".list-collapse-groupcb .title",function(){var objUl=$(this).closest('ul');objUl.find('.title').not(this).removeClass('active');objUl.find('.title').not(this).next('.content').slideUp();if($(this).closest('li').find('.content').css('display')=='none'){$(this).addClass('active');$(this).closest('li').find('.content').slideDown();}});}
function date_custom_lib(){moment.locale(CURRENT_LANGUAGE);$('.dates_cus_select').daterangepicker({"singleDatePicker":true,"showDropdowns":true,"autoApply":true,"autoUpdateInput":false,"locale":{"format":"DD-MM-YYYY"},"opens":"center"});$('input.dates_cus_select').on('apply.daterangepicker',function(ev,picker){$(this).val(picker.endDate.format('DD-MM-YYYY'));$(this).removeClass('error');$(".error_job_lastdate").html('');});$('.dates_cus_select_postjob').daterangepicker({"singleDatePicker":true,"showDropdowns":true,"autoApply":true,"autoUpdateInput":false,"locale":{"format":"DD/MM/YYYY"},"minDate":moment().format("DD-MM-YYYY"),"opens":"center"});$('input.dates_cus_select_postjob').on('apply.daterangepicker',function(ev,picker){$(this).val(picker.endDate.format('DD/MM/YYYY'));$(this).removeClass('error');$(".error_job_lastdate").html('');});}
function postJobShowadditional(){$('.btn-show-additional').on('click',function(){if($('.other-additional-wrap').length){$('.other-additional-wrap').toggle();}});}
$(document).ready(function(){slideTabslet();save_resume_to_ts();collapseToggle();date_custom_lib();postJobShowadditional();initChosen();backToTop();toggleNav();$('#copy_multi_job').on('click',function(e){e.preventDefault();var str_job_id=getItemsChecked();if(str_job_id==""){show_noti(2,language.hrcentral_select_check_job,language.message_common);}else{var arrJob=new Array();arrJob=str_job_id.split(',');if(arrJob.length>language.hrcentral_select_max_job){show_noti(2,language.hrcentral_select_max_job_message,language.message_common);}else{window.location.href=domain+"employers/hrcentral/posting/copyjob/"+user_id+"/"+str_job_id+"/1/1";}}});$('#unposting_multi_job').on('click',function(e){e.preventDefault(e);var str_job_id=getItemsChecked();if(str_job_id==""){show_noti(2,language.hrcentral_select_check_unposting_job,language.message_common);}else{unpostingJob(str_job_id,3);}});var optionSalaryVND={thousands:',',integer:true};var optionSalaryUSD={thousands:'.',integer:true};if($("#frmEditJob #salary_from").length){$('#salary_from').maskNumber(optionSalaryVND);}
if($("#frmEditJob #salary_to").length){$('#salary_to').maskNumber(optionSalaryVND);}
$('#job_salaryunit').change(function(){$('#salary_from').val('');$('#salary_to').val('');if($('#job_salaryunit option:selected').val()=='0'||$('#job_salaryunit option:selected').val()=='1'){$('#salary_from').attr('disabled',true);$('#salary_to').attr('disabled',true);return false;}
$('#salary_from').attr('disabled',false);$('#salary_to').attr('disabled',false);if($('#job_salaryunit option:selected').val()=='vnd'){$('#salary_from').maskNumber(optionSalaryVND);$('#salary_to').maskNumber(optionSalaryVND);}else{$('#salary_from').maskNumber(optionSalaryUSD);$('#salary_to').maskNumber(optionSalaryUSD);}});if($('#job_salaryunit option:selected').val()=='usd'||$('#job_salaryunit option:selected').val()=='vnd'){$("#salary_from").attr('disabled',false);$("#salary_to").attr('disabled',false);}else{$("#salary_from").attr('disabled',true);$("#salary_to").attr('disabled',true);}
daterangepicker_all();validatefrmloginheader();$('.go-link').on('change',function(){var link=$(this).val();if(link!='-1')
window.location.href=link;});});$(document).on('scroll',function(){$(window).scroll(function(){var heightBody=$('body').height()
var heightFooter=$('footer.for-customers').height()
var heightWindow=$(window).height()
var height=$(window).scrollTop();if(height>(heightBody-heightFooter-heightWindow)){$('.employer-mail').addClass('no-scroll')}else{$('.employer-mail').removeClass('no-scroll')}});});function saveReplyEmailSetting(){if($("#frmAddEmpLetter").validate({ignore:":disabled",rules:{reply_title:{required:true,maxlength:70},reply_content:{required:true,minlength:30,maxlength:3000}},errorPlacement:function(error,element){var name=element.attr('name');var errorSelector='.error_'+name;var $element=$(errorSelector);$(errorSelector).html(error.html());},messages:{reply_title:{required:language.emp_notifymail_Please_enter_a_letter_title},reply_content:{required:language.emp_notifymail_Please_enter_a_reply_content}},success:function(error){error.remove();},submitHandler:function(form){var data=new Object();data.id=$('#mail_id').val();data.title=$('#reply_title').val();data.content=$('#reply_content').val();data.isdefault=$('#IsDefault').val();data.job_id=$('#job_id').val();var dataString=JSON.stringify(data);$("#save_reply_mail_auto_send").prop('disabled',true);$.ajax({type:"POST",url:domain+'employers/hrcentral/autoreply/savemail',data:'data='+dataString,success:function(data){$.fancybox.close();parent.location.reload();}});},invalidHandler:function(form,validator){var errors=validator.numberOfInvalids();if(errors){switch(validator.errorList[0].element.getAttribute("name")){default:validator.errorList[0].element.focus();break;}}}}).form()==false)return false;}
function saveNotifyLetterSetting(){if($("#frmAddEmpLetter").validate({ignore:":disabled",rules:{letter_title:{required:true},letter_content:{required:true,minlength:10,maxlength:3000}},messages:{letter_title:{required:language.emp_notifymail_Please_enter_a_letter_title},letter_content:{required:language.emp_notifymail_Please_enter_a_letter_content}},errorPlacement:function(error,element){var name=element.attr('name');var errorSelector='.error_'+name;var $element=$(errorSelector);$(errorSelector).html(error.html());},success:function(error){error.remove();},submitHandler:function(form){var data={letter_id:$('#letter_id_new').val(),letter_title:$('#letter_title').val(),letter_content:$('#letter_content').val(),letter_type:$('input[name="letter_type"]:checked').val(),letter_merge:$('#letter_merge').val(),letter_type:$('input[name="letter_type"]:checked').val(),addfield:$('#addfield').val()};var dataString=encodeURIComponent(JSON.stringify(data));$("#save_notify_letter_setting_box").prop('disabled',true);$.ajax({type:"POST",url:domain+'employers/hrcentral/notifymail/saveempletter',data:'data='+dataString,success:function(data){if(data){$.confirm({title:language.message_common,content:language.emp_update_success,buttons:{OK:function(){location.reload();},}});}else{show_noti(2,language.emp_update_fail,language.message_common);}
$("#save_notify_letter_setting_box").prop('disabled',false);}});},invalidHandler:function(form,validator){var errors=validator.numberOfInvalids();if(errors){switch(validator.errorList[0].element.getAttribute("name")){default:validator.errorList[0].element.focus();break;}}}}).form()==false)return false;}
function checkStatusSession(){if(memberLogin=='yes'){$.ajax({url:domainroot+'/employersnews/ajaxlogin/checkstatussession'}).done(function(status){if(status==1)
location.href=PATH_KIEMVIEC+"employers/login";});}}
function changesort(ulr)
{var value=$("#box_sort_change").val();if(value!=0){ulr+="/sort/"+value;if(value=="kng")
ulr+="_asc";else
ulr+="_desc";}
window.location=ulr;}